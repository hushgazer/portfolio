<script>
    const DISCORD_LINK = "https://discord.gg/vTjXFNp82S";

    fetch('images_inv/images.json')
        .then(res => res.json())
        .then(images => {
            const gallery = document.getElementById('gallery');

            images.forEach(img => {
                const name = img
                    .replace(/\.[^/.]+$/, '') // remove extension
                    .replace(/_/g, ' ');      // turn _ into spaces

                const item = document.createElement('div');
                item.className = 'item';
                item.innerHTML = `
                    <div class="image-wrapper">
                        <img src="images_inv/${img}" alt="${name}">
                        <div class="overlay">
                            <div class="overlay-content">
                                <div class="overlay-title">Join Discord to download</div>
                                <div class="overlay-text">
                                    Get this mod and future updates directly in my server.
                                </div>
                                <button class="overlay-btn">Join Discord</button>
                            </div>
                        </div>
                    </div>
                    <div class="name">${name}</div>
                `;

                item.querySelector(".overlay-btn")
                    .addEventListener("click", () => window.open(DISCORD_LINK, "_blank"));

                gallery.appendChild(item);
            });
        })
        .catch(err => console.error('Error loading images.json', err));
</script>
